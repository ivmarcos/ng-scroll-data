!function(){angular.module("ng-scroll-data",[]).directive("ngScrollData",function(){return{restrict:"EA",link:function(n,o,l){function i(o){var l=o.st+o.wh,i=l==o.dh,d=l==o.wh,a=0==n.ngScrollBegin,w=g-c<=n.ngScrollBegin;r||(r=l);var s=parseInt((o.dh-o.wh)/2),p=r==l?"stop":l>r?"down":"up";return i&&"down"==p&&!w?(n.ngScrollBegin=n.ngScrollBegin+t,r=void 0,$(window).scrollTop(s),void n.$apply()):"up"!=p||a?i&&"stop"==p&&!w||d&&"stop"==p&&!a?(r=void 0,void $(window).scrollTop(s)):void(r=l):(n.ngScrollBegin=n.ngScrollBegin-e,n.ngScrollBegin<0&&(n.ngScrollBegin=0),r=void 0,$(window).scrollTop(s),void n.$apply())}var r=void 0,t=parseInt(l.ngScrollStepDown),e=parseInt(l.ngScrollStepUp),c=n.ngScrollLimit=parseInt(l.ngScrollLimit),g=0;n.ngScrollBegin=0,$(window).scroll(function(n){var o=$(document).height(),l=$(window).height(),r=$(window).scrollTop(),t={e:n,dh:o,wh:l,st:r};i(t)}),$(window).keydown(function(o){if(o.ctrlKey&&35==o.keyCode){r=void 0,n.ngScrollBegin=g-c;var l=$(document).height();$(window).scrollTop(l),n.$apply()}if(o.ctrlKey&&36==o.keyCode){r=void 0,n.ngScrollBegin=0;var l=$(document).height(),i=$(window).height();$(window).scrollTop(l-i),n.$apply()}});var d=function(){$(window).unbind("scroll"),$(window).unbind("keydown")};o.on("$destroy",d),n.$on("$destroy",d),n.$watch(l.ngScrollData,function(){g=n.$eval(l.ngScrollItems).length})}}}).filter("ngScrollPaginator",function(){return function(n,o,l){return o=1/0===Math.abs(Number(o))?Number(o):parseInt(o),isNaN(o)?n:(angular.isNumber(n)&&(n=n.toString()),angular.isArray(n)||isString(n)?(l=!l||isNaN(l)?0:parseInt(l),l=0>l&&l>=-n.length?n.length+l:l,o>=0?n.slice(l,l+o):0===l?n.slice(o,n.length):n.slice(Math.max(0,l+o),l)):n)}})}();
